
<div id="promo" role="region" aria-label="Propaganda">
  <iframe src="https://www.youtube.com/embed/gBclanEnn88?si=IqcWS27KWsGxKPsL"
          title="YouTube Video Player"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
          referrerpolicy="strict-origin-when-cross-origin"
          allowfullscreen></iframe>
  
  <a id="promoLink" href="#" target="_blank" onclick="redirectRandom(); return false;">
    CARREGANDO OPORTUNIDADES...
  </a>

  <div id="closeMessage">Em 10 segundos você pode fechar a propaganda</div>

  <button id="promoCloseBtn" aria-label="Fechar propaganda" title="Fechar propaganda">
    × <span>Fechar Propaganda</span>
  </button>
</div>

<script>
  const promoOptions = [
    {
      url: "https://remarkable-gelato-4db597.netlify.app/consorciopagina.html",
      text: "CONFIRA VÁRIOS TIPOS DE CONSÓRCIO SAIBA COMO FUNCIONA ESTAMOS À DISPOSIÇÃO"
    },
    {
      url: "https://geocredibnkvitoria.com/",
      text: "CRÉDITO PESSOAL OBTENHA SEU CRÉDITO COM FACILIDADE"
    },
    {
      url: "https://remarkable-gelato-4db597.netlify.app/redirecionadora.html",
      text: "CONFIRA ESSAS OPORTUNIDADES AGORA MESMO"
    }
  ];

  function redirectRandom() {
    const choice = promoOptions[Math.floor(Math.random() * promoOptions.length)];
    const link = document.getElementById("promoLink");
    link.href = choice.url;
    link.innerText = choice.text;
    window.open(choice.url, '_blank');
  }

  window.addEventListener("DOMContentLoaded", () => {
    const choice = promoOptions[Math.floor(Math.random() * promoOptions.length)];
    const link = document.getElementById("promoLink");
    link.href = choice.url;
    link.innerText = choice.text;

    const closeMessage = document.getElementById("closeMessage");
    const closeBtn = document.getElementById("promoCloseBtn");
    let closeBtnEnabled = false;

    // Após 10 segundos, habilita fechar
    setTimeout(() => {
      closeMessage.style.display = "block";
      closeBtn.style.display = "flex";
      closeBtn.classList.add("enabled");
      closeBtn.style.cursor = "pointer";
      closeBtnEnabled = true;
    }, 10000);

    // Impede fechar antes dos 10 segundos
    closeBtn.addEventListener("click", (e) => {
      if (!closeBtnEnabled) {
        e.preventDefault();
        alert("Você só pode fechar a propaganda após 10 segundos.");
        return false;
      }
      document.getElementById("promo").style.display = "none";
    });
  });
</script>
